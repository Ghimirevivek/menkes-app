{"ast":null,"code":"import AsyncStorage from '@react-native-async-storage/async-storage';\nexport let DataPersistKeys = function (DataPersistKeys) {\n  DataPersistKeys[\"USER\"] = \"USER\";\n  return DataPersistKeys;\n}({});\nexport function useDataPersist() {\n  async function setPersistData(key, data) {\n    return new Promise((resolve, reject) => {\n      const jsonData = JSON.stringify(data);\n      AsyncStorage.setItem(key, jsonData).then(() => resolve(true)).catch(err => reject(err));\n    });\n  }\n  async function getPersistData(key) {\n    return new Promise((resolve, reject) => {\n      AsyncStorage.getItem(key).then(res => resolve(res ? JSON.parse(res) : undefined)).catch(err => reject(err));\n    });\n  }\n  function removePersistData(key) {\n    return new Promise((resolve, reject) => {\n      AsyncStorage.removeItem(key).then(() => resolve(true)).catch(err => reject(err));\n    });\n  }\n  async function removeAllPersistData() {\n    return Promise.all(Object.values(DataPersistKeys).map(value => AsyncStorage.removeItem(value)));\n  }\n  return {\n    setPersistData,\n    getPersistData,\n    removePersistData,\n    removeAllPersistData\n  };\n}","map":{"version":3,"names":["AsyncStorage","DataPersistKeys","useDataPersist","setPersistData","key","data","Promise","resolve","reject","jsonData","JSON","stringify","setItem","then","catch","err","getPersistData","getItem","res","parse","undefined","removePersistData","removeItem","removeAllPersistData","all","Object","values","map","value"],"sources":["/Users/niteshnamdev/Desktop/work/menkes-app/src/hooks/useDataPersist.ts"],"sourcesContent":["import AsyncStorage from '@react-native-async-storage/async-storage';\n\nexport enum DataPersistKeys {\n  USER = 'USER',\n  // add more keys here\n}\n\nexport function useDataPersist() {\n  /**\n   * set persistent data\n   * @param key\n   * @param data\n   * @returns\n   */\n  async function setPersistData<T>(key: DataPersistKeys, data: T): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      const jsonData = JSON.stringify(data);\n      AsyncStorage.setItem(key, jsonData)\n        .then(() => resolve(true))\n        .catch(err => reject(err));\n    });\n  }\n\n  /**\n   * get persistent data\n   * @param key\n   * @returns\n   */\n  async function getPersistData<T>(key: DataPersistKeys): Promise<T> {\n    return new Promise((resolve, reject) => {\n      AsyncStorage.getItem(key)\n        .then(res => resolve(res ? JSON.parse(res) : undefined))\n        .catch(err => reject(err));\n    });\n  }\n\n  /**\n   * remove persistent data by key\n   * @param key\n   * @returns\n   */\n  function removePersistData(key: DataPersistKeys): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      AsyncStorage.removeItem(key)\n        .then(() => resolve(true))\n        .catch(err => reject(err));\n    });\n  }\n\n  /**\n   * remove all persistent data\n   * @returns\n   */\n  async function removeAllPersistData() {\n    return Promise.all(Object.values(DataPersistKeys).map(value => AsyncStorage.removeItem(value)));\n  }\n\n  return { setPersistData, getPersistData, removePersistData, removeAllPersistData };\n}\n"],"mappings":"AAAA,OAAOA,YAAY,MAAM,2CAA2C;AAEpE,WAAYC,eAAe,aAAfA,eAAe;EAAfA,eAAe;EAAA,OAAfA,eAAe;AAAA;AAK3B,OAAO,SAASC,cAAcA,CAAA,EAAG;EAO/B,eAAeC,cAAcA,CAAIC,GAAoB,EAAEC,IAAO,EAAoB;IAChF,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtC,MAAMC,QAAQ,GAAGC,IAAI,CAACC,SAAS,CAACN,IAAI,CAAC;MACrCL,YAAY,CAACY,OAAO,CAACR,GAAG,EAAEK,QAAQ,CAAC,CAChCI,IAAI,CAAC,MAAMN,OAAO,CAAC,IAAI,CAAC,CAAC,CACzBO,KAAK,CAACC,GAAG,IAAIP,MAAM,CAACO,GAAG,CAAC,CAAC;IAC9B,CAAC,CAAC;EACJ;EAOA,eAAeC,cAAcA,CAAIZ,GAAoB,EAAc;IACjE,OAAO,IAAIE,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtCR,YAAY,CAACiB,OAAO,CAACb,GAAG,CAAC,CACtBS,IAAI,CAACK,GAAG,IAAIX,OAAO,CAACW,GAAG,GAAGR,IAAI,CAACS,KAAK,CAACD,GAAG,CAAC,GAAGE,SAAS,CAAC,CAAC,CACvDN,KAAK,CAACC,GAAG,IAAIP,MAAM,CAACO,GAAG,CAAC,CAAC;IAC9B,CAAC,CAAC;EACJ;EAOA,SAASM,iBAAiBA,CAACjB,GAAoB,EAAoB;IACjE,OAAO,IAAIE,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtCR,YAAY,CAACsB,UAAU,CAAClB,GAAG,CAAC,CACzBS,IAAI,CAAC,MAAMN,OAAO,CAAC,IAAI,CAAC,CAAC,CACzBO,KAAK,CAACC,GAAG,IAAIP,MAAM,CAACO,GAAG,CAAC,CAAC;IAC9B,CAAC,CAAC;EACJ;EAMA,eAAeQ,oBAAoBA,CAAA,EAAG;IACpC,OAAOjB,OAAO,CAACkB,GAAG,CAACC,MAAM,CAACC,MAAM,CAACzB,eAAe,CAAC,CAAC0B,GAAG,CAACC,KAAK,IAAI5B,YAAY,CAACsB,UAAU,CAACM,KAAK,CAAC,CAAC,CAAC;EACjG;EAEA,OAAO;IAAEzB,cAAc;IAAEa,cAAc;IAAEK,iBAAiB;IAAEE;EAAqB,CAAC;AACpF","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}